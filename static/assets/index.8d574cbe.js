import{H as e,r as a,a as t,p as s,b as l,o,c as n,d as r,w as i,F as u,L as d,M as c,u as p,e as m,f as g,U as f,A as v,S as h,Q as _,g as y,h as k,K as I,i as b,j as S,n as C,_ as w,k as E,l as O,m as R,q as L,s as A,t as j,v as x,x as q,y as N,z as $,B as P}from"./vendor.a8d130d5.js";const T=e.create({baseURL:"api/",timeout:3e4}),U=()=>T("qrcode"),J=()=>T("info"),D=e=>T({url:"check",method:"post",data:e}),F=e=>T({url:"userinfo",params:e}),K=e=>T({url:"update/remark",method:"post",data:e}),V=e=>T({url:"delaccount",method:"post",data:e}),H=e=>T({url:"getConfig",params:e}),M=e=>T({url:"getConfig",method:"post",data:e}),Q=e=>T({url:"getConfigWeb",params:e}),W=e=>T({url:"getConfigWeb",method:"post",data:e}),Y=e=>T({url:"login",method:"post",data:e}),B=e=>T({url:"bean",params:e}),z=e=>T({url:"userList",params:e}),G=e=>T({url:"DetectionCookie",params:e});const X={key:0,class:"logo"},Z=["src"],ee=m("span",{class:"nav-text"},"用户信息",-1),ae=m("span",{class:"nav-text"},"资产统计",-1),te=S("平台设置"),se=S("用户管理"),le=S("系统设置"),oe=S("扫码添加账号"),ne=S("唤醒App添加账号"),re=m("p",{style:{"margin-bottom":"5px"}},"后台接口由Ninja开源,由Quiet二次修改",-1),ie=["innerHTML"],ue={class:"login_info"},de=["src"],ce={setup(e){const S=a(sessionStorage.getItem("page")?JSON.parse(sessionStorage.getItem("page")):["1"]),N=a(!1),$=a(null);let P=a({}),T=t({}),J=a(""),F=a(!0);const K=(e,a)=>{};function V(){F.value=!1,C((()=>{F.value=!0}))}s("reload",V);const H=e=>{},M=e=>{S.value=e.keyPath,sessionStorage.setItem("page",JSON.stringify(S.value))},W=async()=>{const e=await D(T);if(200==e.status){if(0==e.data.data.errcode){clearInterval($.value);let a={eid:e.data.data.eid,name:e.data.data.nickName},t=localStorage.getItem("USERARRAY")?JSON.parse(localStorage.getItem("USERARRAY")):[],s=!1;return t.forEach((e=>{e.name==a.name&&(e.eid=a.eid,s=!0)})),s||t.push(a),q.success(e.data.message),localStorage.setItem("USERARRAY",JSON.stringify(t)),N.value=!1,void V()}if(176==e.data.data.errcode)return;return q.error(e.data.message),void clearInterval($.value)}},Y=async()=>{const e=await U();T=e.data.data;const a=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${e.data.data.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=a,clearInterval($.value),$.value=setInterval((()=>{W()}),2500)},B=()=>{(async()=>{const e=await U();200==e.status&&(J.value=e.data.data.QRCode,T=e.data.data,clearInterval($.value),$.value=setInterval((()=>{W()}),2500))})(),N.value=!0},z=()=>{N.value=!1,clearInterval($.value),J.value=""},G=()=>{N.value=!1,clearInterval($.value),J.value=""};return(async()=>{const e=await Q();P.value=JSON.parse(e.data.data),sessionStorage.setItem("INFO",JSON.stringify(P.value))})(),(e,a)=>{const t=w,s=E,C=O,q=R,$=L,T=A,U=l("router-view"),D=j,V=x,Q=d,W=c;return o(),n(u,null,[r(Q,{style:{height:"100%"}},{default:i((()=>[r(q,{breakpoint:"lg","collapsed-width":"0",onCollapse:K,onBreakpoint:H},{default:i((()=>[p(P).quiet?(o(),n("div",X,[m("img",{src:p(P)?p(P).quiet.LOGO:"",alt:"",width:""},null,8,Z)])):g("",!0),r(C,{theme:"dark",mode:"inline",selectedKeys:S.value,"onUpdate:selectedKeys":a[4]||(a[4]=e=>S.value=e),onClick:M},{default:i((()=>[r(t,{key:"1",onClick:a[0]||(a[0]=a=>e.$router.push("/home"))},{default:i((()=>[r(p(f)),ee])),_:1}),r(t,{key:"2",onClick:a[1]||(a[1]=a=>e.$router.push("/assets"))},{default:i((()=>[r(p(v)),ae])),_:1}),r(s,{key:"3"},{icon:i((()=>[r(p(h))])),title:i((()=>[te])),default:i((()=>[r(t,{key:"4",onClick:a[2]||(a[2]=a=>e.$router.push("/user"))},{default:i((()=>[se])),_:1}),r(t,{key:"5",onClick:a[3]||(a[3]=a=>e.$router.push("/set"))},{default:i((()=>[le])),_:1})])),_:1})])),_:1},8,["selectedKeys"])])),_:1}),r(Q,null,{default:i((()=>[r(T,{style:{background:"#fff",padding:0,textAlign:"center"}},{default:i((()=>[r($,null,{title:i((()=>[oe])),default:i((()=>[r(p(_),{class:"qrcode",onClick:B})])),_:1}),r($,null,{title:i((()=>[ne])),default:i((()=>[r(p(y),{class:"qrcode",style:{"margin-left":"20px"},onClick:Y})])),_:1})])),_:1}),r(D,{style:{margin:"24px 16px 0",overflow:"auto"}},{default:i((()=>[p(F)?(o(),k(U,{key:0},{default:i((({Component:e})=>[(o(),k(I,null,[(o(),k(b(e)))],1024))])),_:1})):g("",!0)])),_:1}),r(V,{style:{"text-align":"center","padding-bottom":"0"}},{default:i((()=>[re,m("div",{innerHTML:p(P).quiet&&p(P).quiet.Footer?p(P).quiet.Footer:""},null,8,ie)])),_:1})])),_:1})])),_:1}),r(W,{visible:N.value,"onUpdate:visible":a[5]||(a[5]=e=>N.value=e),title:"添加账号",onOk:z,onCancel:G},{default:i((()=>[m("div",ue,[m("img",{src:p(J),alt:""},null,8,de)])])),_:1},8,["visible"])],64)}}};let pe;const me={},ge=function(e,a){if(!a||0===a.length)return e();if(void 0===pe){const e=document.createElement("link").relList;pe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if((e=`/${e}`)in me)return;me[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const s=document.createElement("link");return s.rel=a?"stylesheet":pe,a||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),a?new Promise(((e,a)=>{s.addEventListener("load",e),s.addEventListener("error",a)})):void 0}))).then((()=>e()))},fe=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:()=>ge((()=>import("./home.f4902f2b.js")),["assets/home.f4902f2b.js","assets/home.a20bf7ae.css","assets/index.824e7713.css","assets/index.39663cc1.css","assets/index.f688e07b.css","assets/index.bede4970.css","assets/vendor.a8d130d5.js","assets/vendor.b9da4b65.css","assets/dayjs.min.57897a4b.js","assets/dayjs.min.7bef9f6d.css","assets/stringify.fbfa60d8.js"])},{path:"/set",name:"set",component:()=>ge((()=>import("./set.310e9e6c.js")),["assets/set.310e9e6c.js","assets/set.5a6f6862.css","assets/index.bede4970.css","assets/index.f688e07b.css","assets/vendor.a8d130d5.js","assets/vendor.b9da4b65.css","assets/stringify.fbfa60d8.js"])},{path:"/assets",name:"assets",component:()=>ge((()=>import("./assets.97834325.js")),["assets/assets.97834325.js","assets/index.824e7713.css","assets/index.eab0ecfc.css","assets/index.f688e07b.css","assets/vendor.a8d130d5.js","assets/vendor.b9da4b65.css","assets/dayjs.min.57897a4b.js","assets/dayjs.min.7bef9f6d.css"])},{path:"/user",name:"user",component:()=>ge((()=>import("./user.f8b7faeb.js")),["assets/user.f8b7faeb.js","assets/user.28cc73d7.css","assets/index.39663cc1.css","assets/index.eab0ecfc.css","assets/index.bede4970.css","assets/index.f688e07b.css","assets/vendor.a8d130d5.js","assets/vendor.b9da4b65.css","assets/dayjs.min.57897a4b.js","assets/dayjs.min.7bef9f6d.css"])}],ve=N({history:$(),routes:fe});P(ce).use(ve).mount("#app");export{U as a,D as b,F as c,V as d,K as e,H as f,J as g,Q as h,M as i,B as j,G as k,Y as l,z as m,W as s};
