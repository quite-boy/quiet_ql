import{H as e,r as a,a as t,p as l,b as s,o,c as n,d as r,w as i,F as u,u as d,e as c,f as m,U as p,A as g,S as v,Q as f,g as h,h as y,i as _,n as k,m as I,j as S,k as w,l as b,q as C}from"./vendor.369772f2.js";const O=e.create({baseURL:"api/",timeout:3e4}),R=()=>O("qrcode"),E=()=>O("info"),A=e=>O({url:"check",method:"post",data:e}),q=e=>O({url:"userinfo",params:e}),L=e=>O({url:"update/remark",method:"post",data:e}),x=e=>O({url:"delaccount",method:"post",data:e}),N=()=>O({url:"getConfig"}),j=e=>O({url:"getConfig",method:"post",data:e}),U=()=>O({url:"getConfigWeb"}),$=e=>O({url:"getConfigWeb",method:"post",data:e}),J=e=>O({url:"login",method:"post",data:e});const P={key:0,class:"logo"},T=["src"],F=c("span",{class:"nav-text"},"用户信息",-1),H=c("span",{class:"nav-text"},"运行日志",-1),K=_("平台设置"),Q=_("用户管理"),W=_("系统设置"),Y=_("扫码添加账号"),D=_("唤醒App添加账号"),M=c("p",null,"后台接口由Ninja开源,由Quiet二次修改",-1),V=["innerHTML"],B={class:"login_info"},G=["src"],z={setup(e){const _=a(sessionStorage.getItem("page")?JSON.parse(sessionStorage.getItem("page")):["1"]),S=a(!1),w=a(null);let b=a({}),C=t({}),O=a(""),E=a(!0);const q=(e,a)=>{};function L(){E.value=!1,k((()=>{E.value=!0}))}l("reload",L);const x=e=>{},N=e=>{_.value=e.keyPath,sessionStorage.setItem("page",JSON.stringify(_.value))},j=async()=>{const e=await A(C);if(200==e.status){if(0==e.data.data.errcode){clearInterval(w.value);let a={eid:e.data.data.eid,name:e.data.data.nickName},t=localStorage.getItem("USERARRAY")?JSON.parse(localStorage.getItem("USERARRAY")):[],l=!1;return t.forEach((e=>{e.name==a.name&&(e.eid=a.eid,l=!0)})),l||t.push(a),I.success(e.data.message),localStorage.setItem("USERARRAY",JSON.stringify(t)),S.value=!1,void L()}if(176==e.data.data.errcode)return;return I.error(e.data.message),void clearInterval(w.value)}},$=async()=>{const e=await R();C=e.data.data;const a=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${e.data.data.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=a,clearInterval(w.value),w.value=setInterval((()=>{j()}),2500)},J=()=>{(async()=>{const e=await R();200==e.status&&(O.value=e.data.data.QRCode,C=e.data.data,clearInterval(w.value),w.value=setInterval((()=>{j()}),2500))})(),S.value=!0},z=()=>{S.value=!1,clearInterval(w.value),O.value=""},X=()=>{S.value=!1,clearInterval(w.value),O.value=""};return(async()=>{const e=await U();b.value=JSON.parse(e.data.data),sessionStorage.setItem("INFO",JSON.stringify(b.value))})(),(e,a)=>{const t=s("a-menu-item"),l=s("a-sub-menu"),k=s("a-menu"),I=s("a-layout-sider"),w=s("a-tooltip"),C=s("a-layout-header"),R=s("router-view"),A=s("a-layout-content"),L=s("a-layout-footer"),j=s("a-layout"),U=s("a-modal");return o(),n(u,null,[r(j,{style:{height:"100%"}},{default:i((()=>[r(I,{breakpoint:"lg","collapsed-width":"0",onCollapse:q,onBreakpoint:x},{default:i((()=>[d(b).quiet?(o(),n("div",P,[c("img",{src:d(b)?d(b).quiet.LOGO:"",alt:"",width:""},null,8,T)])):m("",!0),r(k,{theme:"dark",mode:"inline",selectedKeys:_.value,"onUpdate:selectedKeys":a[2]||(a[2]=e=>_.value=e),onClick:N},{default:i((()=>[r(t,{key:"1",onClick:a[0]||(a[0]=a=>e.$router.push("/home"))},{default:i((()=>[r(d(p)),F])),_:1}),r(t,{key:"2"},{default:i((()=>[r(d(g)),H])),_:1}),r(l,{key:"3"},{icon:i((()=>[r(d(v))])),title:i((()=>[K])),default:i((()=>[r(t,{key:"4"},{default:i((()=>[Q])),_:1}),r(t,{key:"5",onClick:a[1]||(a[1]=a=>e.$router.push("/set"))},{default:i((()=>[W])),_:1})])),_:1})])),_:1},8,["selectedKeys"])])),_:1}),r(j,null,{default:i((()=>[r(C,{style:{background:"#fff",padding:0,textAlign:"center"}},{default:i((()=>[r(w,null,{title:i((()=>[Y])),default:i((()=>[r(d(f),{class:"qrcode",onClick:J})])),_:1}),r(w,null,{title:i((()=>[D])),default:i((()=>[r(d(h),{class:"qrcode",style:{"margin-left":"20px"},onClick:$})])),_:1})])),_:1}),r(A,{style:{margin:"24px 16px 0",overflow:"auto"}},{default:i((()=>[d(E)?(o(),y(R,{key:0})):m("",!0)])),_:1}),r(L,{style:{"text-align":"center"}},{default:i((()=>[M,c("div",{innerHTML:d(b).quiet&&d(b).quiet.Footer?d(b).quiet.Footer:""},null,8,V)])),_:1})])),_:1})])),_:1}),r(U,{visible:S.value,"onUpdate:visible":a[3]||(a[3]=e=>S.value=e),title:"添加账号",onOk:z,onCancel:X},{default:i((()=>[c("div",B,[c("img",{src:d(O),alt:""},null,8,G)])])),_:1},8,["visible"])],64)}}};let X;const Z={},ee=function(e,a){if(!a||0===a.length)return e();if(void 0===X){const e=document.createElement("link").relList;X=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if((e=`/${e}`)in Z)return;Z[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const l=document.createElement("link");return l.rel=a?"stylesheet":X,a||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),a?new Promise(((e,a)=>{l.addEventListener("load",e),l.addEventListener("error",a)})):void 0}))).then((()=>e()))},ae=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:()=>ee((()=>import("./home.85ad7aa4.js")),["assets/home.85ad7aa4.js","assets/home.c38d4966.css","assets/vendor.369772f2.js","assets/stringify.3cefea90.js"])},{path:"/set",name:"set",component:()=>ee((()=>import("./set.03fe2d7a.js")),["assets/set.03fe2d7a.js","assets/set.5a6f6862.css","assets/stringify.3cefea90.js","assets/vendor.369772f2.js"])}],te=S({history:w(),routes:ae});b(z).use(C).use(te).mount("#app");export{R as a,A as b,q as c,x as d,L as e,N as f,E as g,U as h,j as i,J as l,$ as s};
