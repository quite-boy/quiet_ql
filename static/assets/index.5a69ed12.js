import{H as e,r as a,a as t,p as s,b as l,o,c as n,d as r,w as i,F as u,u as d,e as c,f as p,U as m,A as f,S as g,Q as v,g as h,h as y,K as _,i as k,j as I,n as S,m as b,k as w,l as C,q as E,s as O}from"./vendor.9be83040.js";const R=e.create({baseURL:"api/",timeout:3e4}),A=()=>R("qrcode"),L=()=>R("info"),j=e=>R({url:"check",method:"post",data:e}),q=e=>R({url:"userinfo",params:e}),x=e=>R({url:"update/remark",method:"post",data:e}),N=e=>R({url:"delaccount",method:"post",data:e}),$=()=>R({url:"getConfig"}),P=e=>R({url:"getConfig",method:"post",data:e}),U=()=>R({url:"getConfigWeb"}),J=e=>R({url:"getConfigWeb",method:"post",data:e}),T=e=>R({url:"login",method:"post",data:e}),F=e=>R({url:"assets",params:e});const K={key:0,class:"logo"},D=["src"],H=c("span",{class:"nav-text"},"用户信息",-1),Q=c("span",{class:"nav-text"},"资产统计",-1),V=I("平台设置"),W=I("用户管理"),Y=I("系统设置"),M=I("扫码添加账号"),B=I("唤醒App添加账号"),G=c("p",null,"后台接口由Ninja开源,由Quiet二次修改",-1),z=["innerHTML"],X={class:"login_info"},Z=["src"],ee={setup(e){const I=a(sessionStorage.getItem("page")?JSON.parse(sessionStorage.getItem("page")):["1"]),w=a(!1),C=a(null);let E=a({}),O=t({}),R=a(""),L=a(!0);const q=(e,a)=>{};function x(){L.value=!1,S((()=>{L.value=!0}))}s("reload",x);const N=e=>{},$=e=>{I.value=e.keyPath,sessionStorage.setItem("page",JSON.stringify(I.value))},P=async()=>{const e=await j(O);if(200==e.status){if(0==e.data.data.errcode){clearInterval(C.value);let a={eid:e.data.data.eid,name:e.data.data.nickName},t=localStorage.getItem("USERARRAY")?JSON.parse(localStorage.getItem("USERARRAY")):[],s=!1;return t.forEach((e=>{e.name==a.name&&(e.eid=a.eid,s=!0)})),s||t.push(a),b.success(e.data.message),localStorage.setItem("USERARRAY",JSON.stringify(t)),w.value=!1,void x()}if(176==e.data.data.errcode)return;return b.error(e.data.message),void clearInterval(C.value)}},J=async()=>{const e=await A();O=e.data.data;const a=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${e.data.data.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=a,clearInterval(C.value),C.value=setInterval((()=>{P()}),2500)},T=()=>{(async()=>{const e=await A();200==e.status&&(R.value=e.data.data.QRCode,O=e.data.data,clearInterval(C.value),C.value=setInterval((()=>{P()}),2500))})(),w.value=!0},F=()=>{w.value=!1,clearInterval(C.value),R.value=""},ee=()=>{w.value=!1,clearInterval(C.value),R.value=""};return(async()=>{const e=await U();E.value=JSON.parse(e.data.data),sessionStorage.setItem("INFO",JSON.stringify(E.value))})(),(e,a)=>{const t=l("a-menu-item"),s=l("a-sub-menu"),S=l("a-menu"),b=l("a-layout-sider"),C=l("a-tooltip"),O=l("a-layout-header"),A=l("router-view"),j=l("a-layout-content"),x=l("a-layout-footer"),P=l("a-layout"),U=l("a-modal");return o(),n(u,null,[r(P,{style:{height:"100%"}},{default:i((()=>[r(b,{breakpoint:"lg","collapsed-width":"0",onCollapse:q,onBreakpoint:N},{default:i((()=>[d(E).quiet?(o(),n("div",K,[c("img",{src:d(E)?d(E).quiet.LOGO:"",alt:"",width:""},null,8,D)])):p("",!0),r(S,{theme:"dark",mode:"inline",selectedKeys:I.value,"onUpdate:selectedKeys":a[3]||(a[3]=e=>I.value=e),onClick:$},{default:i((()=>[r(t,{key:"1",onClick:a[0]||(a[0]=a=>e.$router.push("/home"))},{default:i((()=>[r(d(m)),H])),_:1}),r(t,{key:"2",onClick:a[1]||(a[1]=a=>e.$router.push("/assets"))},{default:i((()=>[r(d(f)),Q])),_:1}),r(s,{key:"3"},{icon:i((()=>[r(d(g))])),title:i((()=>[V])),default:i((()=>[r(t,{key:"4"},{default:i((()=>[W])),_:1}),r(t,{key:"5",onClick:a[2]||(a[2]=a=>e.$router.push("/set"))},{default:i((()=>[Y])),_:1})])),_:1})])),_:1},8,["selectedKeys"])])),_:1}),r(P,null,{default:i((()=>[r(O,{style:{background:"#fff",padding:0,textAlign:"center"}},{default:i((()=>[r(C,null,{title:i((()=>[M])),default:i((()=>[r(d(v),{class:"qrcode",onClick:T})])),_:1}),r(C,null,{title:i((()=>[B])),default:i((()=>[r(d(h),{class:"qrcode",style:{"margin-left":"20px"},onClick:J})])),_:1})])),_:1}),r(j,{style:{margin:"24px 16px 0",overflow:"auto"}},{default:i((()=>[d(L)?(o(),y(A,{key:0},{default:i((({Component:e})=>[(o(),y(_,null,[(o(),y(k(e)))],1024))])),_:1})):p("",!0)])),_:1}),r(x,{style:{"text-align":"center"}},{default:i((()=>[G,c("div",{innerHTML:d(E).quiet&&d(E).quiet.Footer?d(E).quiet.Footer:""},null,8,z)])),_:1})])),_:1})])),_:1}),r(U,{visible:w.value,"onUpdate:visible":a[4]||(a[4]=e=>w.value=e),title:"添加账号",onOk:F,onCancel:ee},{default:i((()=>[c("div",X,[c("img",{src:d(R),alt:""},null,8,Z)])])),_:1},8,["visible"])],64)}}};let ae;const te={},se=function(e,a){if(!a||0===a.length)return e();if(void 0===ae){const e=document.createElement("link").relList;ae=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if((e=`/${e}`)in te)return;te[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const s=document.createElement("link");return s.rel=a?"stylesheet":ae,a||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),a?new Promise(((e,a)=>{s.addEventListener("load",e),s.addEventListener("error",a)})):void 0}))).then((()=>e()))},le=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:()=>se((()=>import("./home.cc10e91a.js")),["assets/home.cc10e91a.js","assets/home.c38d4966.css","assets/vendor.9be83040.js","assets/stringify.e342a6c0.js"])},{path:"/set",name:"set",component:()=>se((()=>import("./set.a2ceaa23.js")),["assets/set.a2ceaa23.js","assets/set.5a6f6862.css","assets/stringify.e342a6c0.js","assets/vendor.9be83040.js"])},{path:"/assets",name:"assets",component:()=>se((()=>import("./assets.6faaf2ab.js")),["assets/assets.6faaf2ab.js","assets/vendor.9be83040.js"])}],oe=w({history:C(),routes:le});E(ee).use(O).use(oe).mount("#app");export{A as a,j as b,q as c,N as d,x as e,$ as f,L as g,U as h,P as i,F as j,T as l,J as s};
