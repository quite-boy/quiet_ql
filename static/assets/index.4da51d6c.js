import{H as e,r as a,a as t,p as s,b as l,o,c as n,d as r,w as i,F as u,L as d,M as c,u as p,e as m,f as v,U as g,A as f,S as h,Q as _,g as y,h as k,K as I,i as b,j as S,n as w,_ as C,k as E,l as O,m as R,q as A,s as L,t as j,v as q,x,y as N,z as $,B as P}from"./vendor.04a5b875.js";const U=e.create({baseURL:"http://localhost:5700/api/",timeout:3e4}),J=()=>U("qrcode"),T=()=>U("info"),F=e=>U({url:"check",method:"post",data:e}),K=e=>U({url:"userinfo",params:e}),D=e=>U({url:"update/remark",method:"post",data:e}),H=e=>U({url:"delaccount",method:"post",data:e}),M=()=>U({url:"getConfig"}),Q=e=>U({url:"getConfig",method:"post",data:e}),V=()=>U({url:"getConfigWeb"}),W=e=>U({url:"getConfigWeb",method:"post",data:e}),Y=e=>U({url:"login",method:"post",data:e}),B=e=>U({url:"bean",params:e});const z={key:0,class:"logo"},G=["src"],X=m("span",{class:"nav-text"},"用户信息",-1),Z=m("span",{class:"nav-text"},"资产统计",-1),ee=S("平台设置"),ae=S("用户管理"),te=S("系统设置"),se=S("扫码添加账号"),le=S("唤醒App添加账号"),oe=m("p",null,"后台接口由Ninja开源,由Quiet二次修改",-1),ne=["innerHTML"],re={class:"login_info"},ie=["src"],ue={setup(e){const S=a(sessionStorage.getItem("page")?JSON.parse(sessionStorage.getItem("page")):["1"]),N=a(!1),$=a(null);let P=a({}),U=t({}),T=a(""),K=a(!0);const D=(e,a)=>{};function H(){K.value=!1,w((()=>{K.value=!0}))}s("reload",H);const M=e=>{},Q=e=>{S.value=e.keyPath,sessionStorage.setItem("page",JSON.stringify(S.value))},W=async()=>{const e=await F(U);if(200==e.status){if(0==e.data.data.errcode){clearInterval($.value);let a={eid:e.data.data.eid,name:e.data.data.nickName},t=localStorage.getItem("USERARRAY")?JSON.parse(localStorage.getItem("USERARRAY")):[],s=!1;return t.forEach((e=>{e.name==a.name&&(e.eid=a.eid,s=!0)})),s||t.push(a),x.success(e.data.message),localStorage.setItem("USERARRAY",JSON.stringify(t)),N.value=!1,void H()}if(176==e.data.data.errcode)return;return x.error(e.data.message),void clearInterval($.value)}},Y=async()=>{const e=await J();U=e.data.data;const a=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${e.data.data.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=a,clearInterval($.value),$.value=setInterval((()=>{W()}),2500)},B=()=>{(async()=>{const e=await J();200==e.status&&(T.value=e.data.data.QRCode,U=e.data.data,clearInterval($.value),$.value=setInterval((()=>{W()}),2500))})(),N.value=!0},ue=()=>{N.value=!1,clearInterval($.value),T.value=""},de=()=>{N.value=!1,clearInterval($.value),T.value=""};return(async()=>{const e=await V();P.value=JSON.parse(e.data.data),sessionStorage.setItem("INFO",JSON.stringify(P.value))})(),(e,a)=>{const t=C,s=E,w=O,x=R,$=A,U=L,J=l("router-view"),F=j,H=q,V=d,W=c;return o(),n(u,null,[r(V,{style:{height:"100%"}},{default:i((()=>[r(x,{breakpoint:"lg","collapsed-width":"0",onCollapse:D,onBreakpoint:M},{default:i((()=>[p(P).quiet?(o(),n("div",z,[m("img",{src:p(P)?p(P).quiet.LOGO:"",alt:"",width:""},null,8,G)])):v("",!0),r(w,{theme:"dark",mode:"inline",selectedKeys:S.value,"onUpdate:selectedKeys":a[3]||(a[3]=e=>S.value=e),onClick:Q},{default:i((()=>[r(t,{key:"1",onClick:a[0]||(a[0]=a=>e.$router.push("/home"))},{default:i((()=>[r(p(g)),X])),_:1}),r(t,{key:"2",onClick:a[1]||(a[1]=a=>e.$router.push("/assets"))},{default:i((()=>[r(p(f)),Z])),_:1}),r(s,{key:"3"},{icon:i((()=>[r(p(h))])),title:i((()=>[ee])),default:i((()=>[r(t,{key:"4"},{default:i((()=>[ae])),_:1}),r(t,{key:"5",onClick:a[2]||(a[2]=a=>e.$router.push("/set"))},{default:i((()=>[te])),_:1})])),_:1})])),_:1},8,["selectedKeys"])])),_:1}),r(V,null,{default:i((()=>[r(U,{style:{background:"#fff",padding:0,textAlign:"center"}},{default:i((()=>[r($,null,{title:i((()=>[se])),default:i((()=>[r(p(_),{class:"qrcode",onClick:B})])),_:1}),r($,null,{title:i((()=>[le])),default:i((()=>[r(p(y),{class:"qrcode",style:{"margin-left":"20px"},onClick:Y})])),_:1})])),_:1}),r(F,{style:{margin:"24px 16px 0",overflow:"auto"}},{default:i((()=>[p(K)?(o(),k(J,{key:0},{default:i((({Component:e})=>[(o(),k(I,null,[(o(),k(b(e)))],1024))])),_:1})):v("",!0)])),_:1}),r(H,{style:{"text-align":"center"}},{default:i((()=>[oe,m("div",{innerHTML:p(P).quiet&&p(P).quiet.Footer?p(P).quiet.Footer:""},null,8,ne)])),_:1})])),_:1})])),_:1}),r(W,{visible:N.value,"onUpdate:visible":a[4]||(a[4]=e=>N.value=e),title:"添加账号",onOk:ue,onCancel:de},{default:i((()=>[m("div",re,[m("img",{src:p(T),alt:""},null,8,ie)])])),_:1},8,["visible"])],64)}}};let de;const ce={},pe=function(e,a){if(!a||0===a.length)return e();if(void 0===de){const e=document.createElement("link").relList;de=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if((e=`/${e}`)in ce)return;ce[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const s=document.createElement("link");return s.rel=a?"stylesheet":de,a||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),a?new Promise(((e,a)=>{s.addEventListener("load",e),s.addEventListener("error",a)})):void 0}))).then((()=>e()))},me=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:()=>pe((()=>import("./home.db87976b.js")),["assets/home.db87976b.js","assets/home.50127bc9.css","assets/index.f688e07b.css","assets/vendor.04a5b875.js","assets/vendor.b9da4b65.css","assets/dayjs.min.5ae10159.js","assets/dayjs.min.14700791.css","assets/stringify.a14b55a2.js","assets/stringify.3c903c34.css"])},{path:"/set",name:"set",component:()=>pe((()=>import("./set.4e431b84.js")),["assets/set.4e431b84.js","assets/set.5a6f6862.css","assets/index.f688e07b.css","assets/vendor.04a5b875.js","assets/vendor.b9da4b65.css","assets/stringify.a14b55a2.js","assets/stringify.3c903c34.css"])},{path:"/assets",name:"assets",component:()=>pe((()=>import("./assets.cf92c3c3.js")),["assets/assets.cf92c3c3.js","assets/assets.6ee61584.css","assets/index.f688e07b.css","assets/vendor.04a5b875.js","assets/vendor.b9da4b65.css","assets/dayjs.min.5ae10159.js","assets/dayjs.min.14700791.css"])}],ve=N({history:$(),routes:me});P(ue).use(ve).mount("#app");export{J as a,F as b,K as c,H as d,D as e,M as f,T as g,V as h,Q as i,B as j,Y as l,W as s};
